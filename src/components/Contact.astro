---
---
<section id="contact" class="py-12 bg-[#F5FCF8]">
    <div class="max-w-6xl mx-auto px-6">

        <!-- HEADING -->
        <div class="text-center">
            <h2 class="text-4xl font-extrabold text-[rgb(10,27,51)]">Get in Touch</h2>
            <p class="text-gray-600 mt-2 text-lg">
                Book an appointment or send a message â€” we respond quickly.
            </p>
        </div>

        <div class="mt-14 grid md:grid-cols-2 gap-10">

            <!-- LEFT: INFO + MAP -->
            <div class="space-y-8">

                <!-- CONTACT BLOCK -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-green-100 space-y-4">

                    <div class="flex items-start gap-4">
                        <img src="/icons/map_white.svg" class="w-7 h-7 bg-green-600 p-1.5 rounded-full"/>
                        <div>
                            <h3 class="font-semibold text-lg ">Address</h3>
                            <a href="https://maps.app.goo.gl/xHRSEkrUFctG8n8u8" target="_blank"
                               class="text-gray-900 hover:text-green-700 hover:underline transition"
                            >
                                Shop No. 3, 93, Gyan Khand 1, Indirapuram, Ghaziabad,<br/> Uttar Pradesh 201020
                            </a>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <img src="/icons/phone_white.svg" class="w-7 h-7 bg-green-600 p-1.5 rounded-full"/>
                        <div>
                            <h3 class="font-semibold text-lg">Phone</h3>
                            <p>
                                <a
                                        href="tel:+919953154257"
                                        class="text-gray-900 hover:text-green-700 hover:underline transition"
                                >
                                    +91 9953154257
                                </a>
                            </p>

                        </div>
                    </div>
                </div>

                <!-- MAP BLOCK (UNCHANGED) -->
                <div class="rounded-2xl overflow-hidden shadow">
                    <iframe
                            src="https://www.google.com/maps?q=4, Shop number 3, 93, Gyan Khand 1,Gyankhand 4, Indirapuram,Ghaziabad, Uttar Pradesh 201014&output=embed"
                            class="w-full h-90 border-0"
                            loading="lazy"
                    ></iframe>
                </div>

            </div>

            <!-- RIGHT: FORM -->
            <div>
                <form id="contactForm" class="bg-white p-8 rounded-2xl shadow-md border border-green-100 space-y-6">

                    <!-- NAME -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input
                                type="text"
                                id="name"
                                required
                                placeholder="Enter your full name"
                                class="w-full p-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-300 transition"
                        />
                    </div>

                    <!-- EMAIL -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                        <input
                                type="email"
                                id="email"
                                required
                                placeholder="name@example.com"
                                class="w-full p-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-300 transition"
                        />
                    </div>

                    <!-- PHONE -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input
                                type="tel"
                                id="phone"
                                placeholder="+91 XXXXX XXXXX"
                                class="w-full p-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-300 transition"
                        />
                    </div>

                    <!-- MESSAGE -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                        <textarea
                                id="message"
                                rows="4"
                                placeholder="Write your message..."
                                class="w-full p-3 rounded-lg border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-300 transition"
                        ></textarea>
                    </div>

                    <!-- BUTTONS -->
                    <button
                            type="submit"
                            class="w-full text-sm bg-green-600 text-center text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition shadow"
                    >
                        Send Message
                    </button>
                    <p id="formMsg" class="text-sm text-gray-600 hidden"></p>
                </form>
            </div>

        </div>
    </div>
</section>


<script>
    import { saveContactQuery } from "../services/firebaseService.js";

    const form = document.getElementById("contactForm");
    const msgEl = document.getElementById("formMsg");

    form?.addEventListener("submit", async (e) => {
        e.preventDefault();

        const name = document.getElementById("name")?.value.trim();
        const email = document.getElementById("email")?.value.trim();
        const phone = document.getElementById("phone")?.value.trim();
        const message = document.getElementById("message")?.value.trim();

        if (!name || !email || !message) {
            msgEl.textContent = "Please complete required fields.";
            msgEl.classList.remove("hidden");
            msgEl.classList.add("text-red-600");
            return;
        }

        msgEl.textContent = "Sending...";
        msgEl.classList.remove("hidden");
        msgEl.classList.remove("text-red-600");
        msgEl.classList.add("text-gray-600");

        try {
            await saveContactQuery({
                name,
                email,
                phone,
                message,
                source: window.location.pathname,
            });

            msgEl.textContent = "Message sent successfully!";
            msgEl.classList.remove("text-gray-600");
            msgEl.classList.add("text-green-600");

            form.reset();

            setTimeout(() => {
                msgEl.classList.add("hidden");
            }, 2000);
        } catch (err) {
            console.error(err);
            msgEl.textContent = "Error sending message. Please try again.";
            msgEl.classList.remove("text-gray-600");
            msgEl.classList.add("text-red-600");
        }
    });
</script>

